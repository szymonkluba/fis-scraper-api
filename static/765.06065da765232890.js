"use strict";(self.webpackChunkfis_scraper_frontend=self.webpackChunkfis_scraper_frontend||[]).push([[765],{8765:(Ne,y,i)=>{i.r(y),i.d(y,{ScraperModule:()=>Fe});var c=i(6895),x=i(7024),R=i(1702),a=i(4006),d=i(7337),N=i(9300),J=i(4004),p=i(3718),v=i(2184),e=i(4650),g=i(3546),A=i(3848),D=i(7579),S=i(2722),F=i(1831);const O=(0,F.ZF)("races");var k=i(9765),h=i(7392),q=i(1481),f=i(3014),m=i(4859),w=i(4850),Z=i(6338),_=i(3162),E=i(266),L=i(1572);let M=(()=>{class t{constructor(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-file-spinner"]],decls:1,vars:0,consts:[["mode","indeterminate","diameter","30","color","accent"]],template:function(r,n){1&r&&e._UZ(0,"mat-spinner",0)},dependencies:[L.Ou],styles:["[_nghost-%COMP%]{align-items:center;display:flex;height:2rem;justify-content:center;width:100%}"],changeDetection:0}),t})();function Y(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-card-actions",6)(1,"button",7),e.NdJ("click",function(){e.CHM(r),e.oxw();const s=e.MAs(11),C=e.oxw();return e.KtG(C.downloadAll(s.selectedOptions.selected))}),e._uU(2),e.TgZ(3,"mat-icon"),e._uU(4," download"),e.qZA()()()}if(2&t){const r=e.oxw().ngIf,n=e.MAs(11);e.xp6(2),e.hij(" ",r.length>n.selectedOptions.selected.length?"DOWNLOAD SELECTED":"DOWNLOAD ALL"," ")}}function Q(t,o){if(1&t&&e._UZ(0,"mat-progress-bar",8),2&t){const r=o.ngIf;e.Q6J("mode","PENDING"===r.state?"buffer":"determinate")("value",r.progress)("color","DONE"===r.state||"IN_PROGRES"===r.state?"accent":"warn")}}function P(t,o){if(1&t){const r=e.EpF();e.ynx(0),e.TgZ(1,"mat-list-option",9),e._UZ(2,"mat-icon",10),e.TgZ(3,"div",11),e._uU(4),e.qZA(),e.TgZ(5,"div",12),e._uU(6),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"button",13),e.NdJ("click",function(s){const xe=e.CHM(r).$implicit,Re=e.oxw(2);return e.KtG(Re.downloadFile(s,xe))}),e.TgZ(9,"mat-icon"),e._uU(10," download"),e.qZA()(),e.BQk()}if(2&t){const r=o.$implicit;e.xp6(1),e.Q6J("value",r.uuid),e.xp6(1),e.Q6J("svgIcon","team"!==r.kind||r.details?"csv_file":"zip_file"),e.xp6(2),e.AsE("",r.place," ",r.hill_size,""),e.xp6(2),e.Oqu(e.xi3(7,6,r.date,"medium")),e.xp6(2),e.Q6J("matTooltip","Download "+r.place+" "+r.hill_size)}}function $(t,o){1&t&&e._UZ(0,"app-file-spinner")}function B(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card")(2,"mat-card-header",1)(3,"mat-card-title"),e._uU(4,"Current files:"),e.qZA(),e.YNc(5,Y,5,1,"mat-card-actions",2),e.YNc(6,Q,1,3,"mat-progress-bar",3),e.ALo(7,"async"),e.qZA(),e._UZ(8,"mat-divider"),e.TgZ(9,"mat-card-content")(10,"mat-selection-list",null,4),e.YNc(12,P,11,9,"ng-container",5),e.qZA(),e.YNc(13,$,1,0,"app-file-spinner",0),e.ALo(14,"async"),e.qZA()(),e.BQk()),2&t){const r=o.ngIf,n=e.oxw();e.xp6(5),e.Q6J("ngIf",r.length>1),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,5,n.download$)),e.xp6(6),e.Q6J("ngForOf",r)("ngForTrackBy",n.trackByUuid),e.xp6(1),e.Q6J("ngIf",e.lcZ(14,7,n.spinnerState$))}}let G=(()=>{class t{constructor(r,n,s,C){this.iconRegistry=r,this.sanitizer=n,this.scraperService=s,this.store=C,this.destroySubject$=new D.x,this.destroy$=this.destroySubject$.asObservable(),this.trackByUuid=v.k,r.addSvgIcon("csv_file",n.bypassSecurityTrustResourceUrl("assets/csv.svg")),r.addSvgIcon("zip_file",n.bypassSecurityTrustResourceUrl("assets/zip.svg"))}ngOnInit(){this.files$=this.store.select(O),this.spinnerState$=this.store.select(k.M)}downloadAll(r){const n=r.map(s=>s.value);this.scraperService.downloadSelectedFiles(n).pipe((0,S.R)(this.destroy$)).subscribe()}downloadFile(r,n){r.stopImmediatePropagation(),r.stopPropagation(),r.preventDefault(),this.scraperService.downloadFile(n).pipe((0,S.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroySubject$.next(null)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(h.jv),e.Y36(q.H7),e.Y36(f.V),e.Y36(F.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-current-files"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"header"],["align","end",4,"ngIf"],[3,"mode","value","color",4,"ngIf"],["races",""],[4,"ngFor","ngForOf","ngForTrackBy"],["align","end"],["mat-button","","matTooltip","Download all files as .zip",3,"click"],[3,"mode","value","color"],["selected","true",1,"mat-elevation-z1",3,"value"],["matListItemIcon","",3,"svgIcon"],["matListItemTitle",""],["matListItemLine",""],["mat-icon-button","",3,"matTooltip","click"]],template:function(r,n){1&r&&(e.YNc(0,B,15,9,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,n.files$))},dependencies:[m.lW,m.RK,g.a8,g.hq,g.dn,g.dk,g.n5,w.d,h.Hw,Z.Ub,Z.vS,Z.Yt,Z.WW,Z.sL,_.pW,E.gM,c.sg,c.O5,M,c.Ov,c.uU],styles:["mat-card[_ngcontent-%COMP%]{width:min(70rem,100%);min-height:15rem;margin:2rem auto}mat-card-header[_ngcontent-%COMP%]{display:flex}mat-card-title[_ngcontent-%COMP%]{display:inline-block}mat-card-actions[_ngcontent-%COMP%]{display:inline-block;margin-left:auto;margin-bottom:0}mat-selection-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}mat-list-option[_ngcontent-%COMP%]{width:calc(100% - 5rem)}button[_ngcontent-%COMP%]{margin:auto}"],changeDetection:0}),t})();function W(t,o){if(1&t&&(e.TgZ(0,"a",3),e.ALo(1,"async"),e.ALo(2,"async"),e._uU(3),e.qZA()),2&t){const r=o.$implicit,n=e.oxw();e.Q6J("active",e.lcZ(1,4,n.activeLink$)===r.path)("routerLink",r.routerPath)("routerLinkActive",r.path===e.lcZ(2,6,n.activeLink$)?"active":""),e.xp6(3),e.hij(" ",r.label," ")}}let j=(()=>{class t{constructor(r){this.router=r,this.links=[p.$.SINGLE_RACE,p.$.MULTI_RACES,p.$.RANGE_RACES,p.$.RAW_DATA,p.$.SCRAP_TABLE],this.activeLink$=this.router.events.pipe((0,N.h)(n=>n instanceof d.OD),(0,J.U)(n=>"/scraper"===n.url?"/scraper/single-race":n.url)),this.trackByIndex=v.z}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scraper"]],decls:7,vars:3,consts:[["mat-tab-nav-bar","","color","primary","backgroundColor","primary",3,"tabPanel"],["mat-tab-link","",3,"active","routerLink","routerLinkActive",4,"ngFor","ngForOf","ngForTrackBy"],["tabNavPanel",""],["mat-tab-link","",3,"active","routerLink","routerLinkActive"]],template:function(r,n){if(1&r&&(e.TgZ(0,"mat-card")(1,"nav",0),e.YNc(2,W,4,8,"a",1),e.qZA(),e._UZ(3,"mat-tab-nav-panel",null,2)(5,"router-outlet"),e.qZA(),e._UZ(6,"app-current-files")),2&r){const s=e.MAs(4);e.xp6(1),e.Q6J("tabPanel",s),e.xp6(1),e.Q6J("ngForOf",n.links)("ngForTrackBy",n.trackByIndex)}},dependencies:[g.a8,A.BU,A.sW,A.Nj,c.sg,d.lC,d.rH,d.Od,G,c.Ov],styles:["mat-card[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:70rem}"],changeDetection:0}),t})();var U=i(9646),T=i(4144),l=i(9549),b=i(455);let I=(()=>{class t{transform(r,n){return r.hasError(n)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=e.Yjl({name:"hasError",type:t,pure:!0}),t})();function H(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function X(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function V(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function z(t,o){1&t&&e._UZ(0,"mat-progress-bar",7),2&t&&e.Q6J("value",100*o.ngIf)}let K=(()=>{class t{constructor(r,n){this.formBuilder=r,this.scraperService=n,this.fisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]*")]),this.details=new a.NI(!1),this.progress$=(0,U.of)(0),this.raceForm=this.formBuilder.group({fis_id:this.fisId,details:this.details})}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapRace(this.raceForm.value))}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(a.qu),e.Y36(f.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-single-race"]],decls:19,vars:17,consts:[[1,"single-race-form",3,"formGroup"],["appearance","outline"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["mat-raised-button","","color","primary",1,"single-race-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"Scrap single race"),e.qZA(),e.TgZ(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"FIS ID"),e.qZA(),e._UZ(6,"input",2),e.YNc(7,H,5,0,"mat-error",3),e.ALo(8,"hasError"),e.YNc(9,X,4,0,"mat-error",3),e.ALo(10,"hasError"),e.YNc(11,V,4,0,"mat-error",3),e.ALo(12,"hasError"),e.qZA(),e.TgZ(13,"mat-slide-toggle",4),e._uU(14,"Details"),e.qZA(),e.TgZ(15,"button",5),e.NdJ("click",function(){return n.submit()}),e._uU(16," Scrap! "),e.qZA()(),e.YNc(17,z,1,1,"mat-progress-bar",6),e.ALo(18,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(7),e.Q6J("ngIf",e.xi3(8,6,n.fisId,"min")),e.xp6(2),e.Q6J("ngIf",e.xi3(10,9,n.fisId,"pattern")),e.xp6(2),e.Q6J("ngIf",e.xi3(12,12,n.fisId,"required")),e.xp6(4),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(18,15,n.progress$)))},dependencies:[m.lW,T.Nt,l.KE,l.hX,l.TO,_.pW,b.Rr,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,c.Ov,I],styles:[".single-race-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.single-race-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"],changeDetection:0}),t})();function ee(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function te(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function re(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ne(t,o){if(1&t&&(e.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"mat-label"),e._uU(3,"FIS ID"),e.qZA(),e._UZ(4,"input",10),e.YNc(5,ee,5,0,"mat-error",11),e.ALo(6,"hasError"),e.YNc(7,te,4,0,"mat-error",11),e.ALo(8,"hasError"),e.YNc(9,re,4,0,"mat-error",11),e.ALo(10,"hasError"),e.qZA(),e.TgZ(11,"mat-slide-toggle",12),e._uU(12,"Details"),e.qZA()()),2&t){const r=o.index,n=e.oxw();e.Q6J("formGroupName",r),e.xp6(5),e.Q6J("ngIf",e.xi3(6,4,n.fisId[r],"min")),e.xp6(2),e.Q6J("ngIf",e.xi3(8,7,n.fisId[r],"pattern")),e.xp6(2),e.Q6J("ngIf",e.xi3(10,10,n.fisId[r],"required"))}}function oe(t,o){1&t&&e._UZ(0,"mat-progress-bar",13),2&t&&e.Q6J("value",o.ngIf)}let ae=(()=>{class t{constructor(r,n){this.formBuilder=r,this.scraperService=n,this.fisId=[],this.details=new a.NI(!1),this.trackByIndex=v.z,this.raceForm=this.formBuilder.group({races:this.formBuilder.array([this.newRace()])}),this.races=this.raceForm.get("races")}newRace(){return this.fisId.push(new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern(/\d*/)])),this.formBuilder.group({fis_id:this.fisId[this.fisId.length-1],details:this.details})}addInput(){this.races.push(this.newRace())}removeInput(){this.fisId.pop(),this.races.removeAt(this.races.length-1)}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapMultipleRaces(this.raceForm.value.races))}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(a.qu),e.Y36(f.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-multi-races"]],decls:16,vars:7,consts:[[3,"formGroup"],["formArrayName","races",1,"multi-races-form"],["class","multi-races-form-group",3,"formGroupName",4,"ngFor","ngForOf","ngForTrackBy"],[1,"multi-races-form-controls"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",1,"multi-races-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],[1,"multi-races-form-group",3,"formGroupName"],["appearance","outline"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"div",1)(2,"h2"),e._uU(3,"Scrap multiple races"),e.qZA(),e.YNc(4,ne,13,13,"div",2),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.addInput()}),e.TgZ(7,"mat-icon"),e._uU(8,"exposure_plus_1"),e.qZA()(),e.TgZ(9,"button",5),e.NdJ("click",function(){return n.removeInput()}),e.TgZ(10,"mat-icon"),e._uU(11,"exposure_neg_1"),e.qZA()()(),e.TgZ(12,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(13," Scrap! "),e.qZA()()(),e.YNc(14,oe,1,1,"mat-progress-bar",7),e.ALo(15,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(4),e.Q6J("ngForOf",n.races.controls)("ngForTrackBy",n.trackByIndex),e.xp6(8),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,5,n.progress$)))},dependencies:[m.lW,m.RK,h.Hw,T.Nt,l.KE,l.hX,l.TO,_.pW,b.Rr,c.sg,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,c.Ov,I],styles:[".multi-races-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:1rem;flex-direction:column}.multi-races-form-controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.multi-races-form-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-direction:column}.multi-races-form-group[_ngcontent-%COMP%] + .multi-races-form-group[_ngcontent-%COMP%]{margin-block:.5rem}.multi-races-form-submit[_ngcontent-%COMP%]{margin-top:3rem}mat-suffix[_ngcontent-%COMP%]{max-height:2rem}"],changeDetection:0}),t})();function ie(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function se(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function ce(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Initial FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function le(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function me(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function pe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Final FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ue(t,o){1&t&&e._UZ(0,"mat-progress-bar",8),2&t&&e.Q6J("value",o.ngIf)}let de=(()=>{class t{constructor(r,n){this.formBuilder=r,this.scraperService=n,this.startFisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern(/\d*/)]),this.endFisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern(/\d*/)]),this.details=new a.NI(!1),this.raceForm=this.formBuilder.group({start_fis_id:this.startFisId,end_fis_id:this.endFisId,details:this.details})}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapRangeOfRaces(this.raceForm.value))}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(a.qu),e.Y36(f.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-range-races"]],decls:29,vars:29,consts:[[1,"range-races-form",3,"formGroup"],["appearance","outline"],["matInput","","type","number","formControlName","start_fis_id"],[4,"ngIf"],["matInput","","type","number","formControlName","end_fis_id"],["formControlName","details"],["mat-raised-button","","color","primary",1,"range-races-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"Scrap races in range of IDs"),e.qZA(),e.TgZ(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"Initial FIS ID"),e.qZA(),e._UZ(6,"input",2),e.YNc(7,ie,5,0,"mat-error",3),e.ALo(8,"hasError"),e.YNc(9,se,4,0,"mat-error",3),e.ALo(10,"hasError"),e.YNc(11,ce,4,0,"mat-error",3),e.ALo(12,"hasError"),e.qZA(),e.TgZ(13,"mat-form-field",1)(14,"mat-label"),e._uU(15,"Final FIS ID"),e.qZA(),e._UZ(16,"input",4),e.YNc(17,le,5,0,"mat-error",3),e.ALo(18,"hasError"),e.YNc(19,me,4,0,"mat-error",3),e.ALo(20,"hasError"),e.YNc(21,pe,4,0,"mat-error",3),e.ALo(22,"hasError"),e.qZA(),e.TgZ(23,"mat-slide-toggle",5),e._uU(24,"Details"),e.qZA(),e.TgZ(25,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(26," Scrap! "),e.qZA()(),e.YNc(27,ue,1,1,"mat-progress-bar",7),e.ALo(28,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(7),e.Q6J("ngIf",e.xi3(8,9,n.startFisId,"min")),e.xp6(2),e.Q6J("ngIf",e.xi3(10,12,n.startFisId,"pattern")),e.xp6(2),e.Q6J("ngIf",e.xi3(12,15,n.startFisId,"required")),e.xp6(6),e.Q6J("ngIf",e.xi3(18,18,n.endFisId,"min")),e.xp6(2),e.Q6J("ngIf",e.xi3(20,21,n.endFisId,"pattern")),e.xp6(2),e.Q6J("ngIf",e.xi3(22,24,n.endFisId,"required")),e.xp6(4),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(28,27,n.progress$)))},dependencies:[m.lW,T.Nt,l.KE,l.hX,l.TO,_.pW,b.Rr,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,c.Ov,I],styles:[".range-races-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.range-races-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"],changeDetection:0}),t})();var u=i(7274);let ge=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-raw-data-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["src","assets/results.png","alt","Basic results table description"],["src","assets/details.png","alt","Detailed results table description"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(r,n){1&r&&(e.TgZ(0,"h2",0),e._uU(1,"Scrap raw data"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"p"),e._uU(4," This mode should be the most resistant to the errors (describing the columns is the most error prone). The downside is that data in CSV is not described. Generally it's kind of WYSIWYG mode. Data is placed in CSV in order in which it's displayed on FIS website. Please note that it means ie. that there will be no FIS code in CSV for detailed results as it's not displayed anywhere in detailed results table at fis-ski.com. "),e.qZA(),e.TgZ(5,"h3",0),e._uU(6,"Basic results table:"),e.qZA(),e._UZ(7,"img",2),e.TgZ(8,"h3",0),e._uU(9,"Detailed results table:"),e.qZA(),e._UZ(10,"img",3),e.qZA(),e.TgZ(11,"mat-dialog-actions",4)(12,"button",5),e._uU(13,"Close"),e.qZA()())},dependencies:[m.lW,u.ZT,u.uh,u.xY,u.H8],styles:["img[_ngcontent-%COMP%] {\n    width: 100%;\n  }"],changeDetection:0}),t})();function fe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function _e(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function he(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Ze(t,o){1&t&&e._UZ(0,"mat-progress-bar",8),2&t&&e.Q6J("value",100*o.ngIf)}let Te=(()=>{class t{constructor(r,n,s){this.dialog=r,this.formBuilder=n,this.scraperService=s,this.fisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]*")]),this.details=new a.NI(!1),this.progress$=(0,U.of)(0),this.raceForm=this.formBuilder.group({fis_id:this.fisId,details:this.details})}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapRawData(this.raceForm.value))}openDialog(){this.dialog.open(ge)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.uw),e.Y36(a.qu),e.Y36(f.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-unprocessed-data"]],decls:22,vars:17,consts:[[1,"raw-data-form",3,"formGroup"],["mat-icon-button","",3,"click"],["appearance","outline"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["mat-raised-button","","color","primary",1,"raw-data-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2," Scrap raw data "),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.openDialog()}),e.TgZ(4,"mat-icon"),e._uU(5,"help"),e.qZA()()(),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"FIS ID"),e.qZA(),e._UZ(9,"input",3),e.YNc(10,fe,5,0,"mat-error",4),e.ALo(11,"hasError"),e.YNc(12,_e,4,0,"mat-error",4),e.ALo(13,"hasError"),e.YNc(14,he,4,0,"mat-error",4),e.ALo(15,"hasError"),e.qZA(),e.TgZ(16,"mat-slide-toggle",5),e._uU(17,"Details"),e.qZA(),e.TgZ(18,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(19," Scrap! "),e.qZA()(),e.YNc(20,Ze,1,1,"mat-progress-bar",7),e.ALo(21,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(10),e.Q6J("ngIf",e.xi3(11,6,n.fisId,"min")),e.xp6(2),e.Q6J("ngIf",e.xi3(13,9,n.fisId,"pattern")),e.xp6(2),e.Q6J("ngIf",e.xi3(15,12,n.fisId,"required")),e.xp6(4),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(21,15,n.progress$)))},dependencies:[m.lW,m.RK,h.Hw,T.Nt,l.KE,l.hX,l.TO,_.pW,b.Rr,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,c.Ov,I],styles:[".raw-data-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.raw-data-form-submit[_ngcontent-%COMP%]{margin-top:3rem}h2[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0}),t})(),Ie=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scrap-table-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(r,n){1&r&&(e.TgZ(0,"h2",0),e._uU(1,"Scrap table"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"p"),e._uU(4," Scraps data from all tables at given URL. Please make sure that that data is really displayed in HTML table tags. "),e.qZA(),e.TgZ(5,"p"),e._uU(6," Doesn't work with fis-ski.com;) It looks like a table but it's not a table from HTML point of view. "),e.qZA()(),e.TgZ(7,"mat-dialog-actions",2)(8,"button",3),e._uU(9,"Close"),e.qZA()())},dependencies:[m.lW,u.ZT,u.uh,u.xY,u.H8],encapsulation:2,changeDetection:0}),t})();function be(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," URL is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Ce(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"valid"),e.qZA(),e._uU(4," URL "),e.qZA())}function ve(t,o){1&t&&e._UZ(0,"mat-progress-bar",7),2&t&&e.Q6J("value",100*o.ngIf)}const Ue=[{path:"",redirectTo:p.$.SINGLE_RACE.routerPath,pathMatch:"prefix"},{path:"",component:j,children:[{path:p.$.SINGLE_RACE.routerPath,component:K},{path:p.$.MULTI_RACES.routerPath,component:ae},{path:p.$.RANGE_RACES.routerPath,component:de},{path:p.$.RAW_DATA.routerPath,component:Te},{path:p.$.SCRAP_TABLE.routerPath,component:(()=>{class t{constructor(r,n,s){this.dialog=r,this.formBuilder=n,this.scraperService=s,this.url=new a.NI("",[a.kI.required]),this.details=new a.NI(!1),this.progress$=(0,U.of)(0),this.form=this.formBuilder.group({url:this.url})}submit(){this.form.valid&&(this.progress$=this.scraperService.scrapTable(this.form.value))}openDialog(){this.dialog.open(Ie)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.uw),e.Y36(a.qu),e.Y36(f.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scrap-table"]],decls:18,vars:13,consts:[[1,"single-race-form",3,"formGroup"],["mat-icon-button","",3,"click"],["appearance","outline"],["matInput","","type","url","formControlName","url"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"single-race-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2," Scrap table "),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.openDialog()}),e.TgZ(4,"mat-icon"),e._uU(5,"help"),e.qZA()()(),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"URL"),e.qZA(),e._UZ(9,"input",3),e.YNc(10,be,4,0,"mat-error",4),e.ALo(11,"hasError"),e.YNc(12,Ce,5,0,"mat-error",4),e.ALo(13,"hasError"),e.qZA(),e.TgZ(14,"button",5),e.NdJ("click",function(){return n.submit()}),e._uU(15," Scrap! "),e.qZA()(),e.YNc(16,ve,1,1,"mat-progress-bar",6),e.ALo(17,"async")),2&r&&(e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngIf",e.xi3(11,5,n.url,"required")),e.xp6(2),e.Q6J("ngIf",e.xi3(13,8,n.url,"pattern")),e.xp6(2),e.Q6J("disabled",!n.form.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(17,11,n.progress$)))},dependencies:[m.lW,m.RK,h.Hw,T.Nt,l.KE,l.hX,l.TO,_.pW,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,c.Ov,I],styles:[".single-race-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.single-race-form-submit[_ngcontent-%COMP%]{margin-top:3rem}h2[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0}),t})()}]}];let ye=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(Ue),d.Bz]}),t})(),Se=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez]}),t})(),Fe=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[x.h,c.ez,R.t,a.u5,a.u5,a.UX,ye,Se]}),t})()}}]);