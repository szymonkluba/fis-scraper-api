"use strict";(self.webpackChunkfis_scraper_frontend=self.webpackChunkfis_scraper_frontend||[]).push([[591],{1591:(Se,S,i)=>{i.r(S),i.d(S,{ScraperModule:()=>Ue});var c=i(6895),y=i(6842),a=i(4006),h=i(7337),p=i(1883),e=i(4650),d=i(3546),b=i(3848),R=i(7579),F=i(2722),v=i(1831);const N=(0,v.ZF)("spinner"),x=(0,v.ZF)("races");var Z=i(7392),J=i(1481),g=i(5827),m=i(4859),w=i(4850),T=i(6338),f=i(3162),q=i(266),O=i(1572);let k=(()=>{class t{constructor(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-file-spinner"]],decls:2,vars:0,consts:[[1,"file-spinner"],["mode","indeterminate","diameter","30","color","accent"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"mat-spinner",1),e.qZA())},dependencies:[O.Ou],styles:[".file-spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;display:flex;justify-content:center;align-items:center}"],changeDetection:0}),t})();function D(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-card-actions",6)(1,"button",7),e.NdJ("click",function(){e.CHM(r),e.oxw();const s=e.MAs(11),_=e.oxw();return e.KtG(_.downloadAll(s.selectedOptions.selected))}),e._uU(2),e.TgZ(3,"mat-icon"),e._uU(4," download"),e.qZA()()()}if(2&t){const r=e.oxw().ngIf,n=e.MAs(11);e.xp6(2),e.hij(" ",r.length>n.selectedOptions.selected.length?"DOWNLOAD SELECTED":"DOWNLOAD ALL"," ")}}function E(t,o){if(1&t&&e._UZ(0,"mat-progress-bar",8),2&t){const r=o.ngIf;e.Q6J("mode","PENDING"===r.state?"buffer":"determinate")("value",r.progress)("color","DONE"===r.state||"IN_PROGRES"===r.state?"accent":"warn")}}function M(t,o){if(1&t){const r=e.EpF();e.ynx(0),e.TgZ(1,"mat-list-option",9),e._UZ(2,"mat-icon",10),e.TgZ(3,"div",11),e._uU(4),e.qZA(),e.TgZ(5,"div",12),e._uU(6),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"button",13),e.NdJ("click",function(s){const A=e.CHM(r).$implicit,Ae=e.oxw(2);return e.KtG(Ae.downloadFile(s,A))}),e.TgZ(9,"mat-icon"),e._uU(10," download"),e.qZA()(),e.BQk()}if(2&t){const r=o.$implicit;e.xp6(1),e.Q6J("value",r.uuid),e.xp6(1),e.Q6J("svgIcon","team"!==r.kind||r.details?"csv_file":"zip_file"),e.xp6(2),e.AsE("",r.place," ",r.hill_size,""),e.xp6(2),e.Oqu(e.xi3(7,6,r.date,"medium")),e.xp6(2),e.Q6J("matTooltip","Download "+r.place+" "+r.hill_size)}}function Y(t,o){1&t&&e._UZ(0,"app-file-spinner")}function Q(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card")(2,"mat-card-header",1)(3,"mat-card-title"),e._uU(4,"Current files:"),e.qZA(),e.YNc(5,D,5,1,"mat-card-actions",2),e.YNc(6,E,1,3,"mat-progress-bar",3),e.ALo(7,"async"),e.qZA(),e._UZ(8,"mat-divider"),e.TgZ(9,"mat-card-content")(10,"mat-selection-list",null,4),e.YNc(12,M,11,9,"ng-container",5),e.qZA(),e.YNc(13,Y,1,0,"app-file-spinner",0),e.ALo(14,"async"),e.qZA()(),e.BQk()),2&t){const r=o.ngIf,n=e.oxw();e.xp6(5),e.Q6J("ngIf",r.length>1),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,4,n.download$)),e.xp6(6),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("ngIf",e.lcZ(14,6,n.spinnerState$))}}let L=(()=>{class t{constructor(r,n,s,_){this.iconRegistry=r,this.sanitizer=n,this.scraperService=s,this.store=_,this.destroySubject$=new R.x,this.destroy$=this.destroySubject$.asObservable(),r.addSvgIcon("csv_file",n.bypassSecurityTrustResourceUrl("assets/csv.svg")),r.addSvgIcon("zip_file",n.bypassSecurityTrustResourceUrl("assets/zip.svg"))}ngOnInit(){this.files$=this.store.select(x),this.spinnerState$=this.store.select(N)}downloadAll(r){const n=r.map(s=>s.value);this.scraperService.downloadSelectedFiles(n).pipe((0,F.R)(this.destroy$)).subscribe()}downloadFile(r,n){r.stopImmediatePropagation(),r.stopPropagation(),r.preventDefault(),this.scraperService.downloadFile(n).pipe((0,F.R)(this.destroy$)).subscribe()}ngOnDestroy(){this.destroySubject$.next(null)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(Z.jv),e.Y36(J.H7),e.Y36(g.V),e.Y36(v.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-current-files"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"header"],["align","end",4,"ngIf"],[3,"mode","value","color",4,"ngIf"],["races",""],[4,"ngFor","ngForOf"],["align","end"],["mat-button","","matTooltip","Download all files as .zip",3,"click"],[3,"mode","value","color"],["selected","true",1,"mat-elevation-z1",3,"value"],["matListItemIcon","",3,"svgIcon"],["matListItemTitle",""],["matListItemLine",""],["mat-icon-button","",3,"matTooltip","click"]],template:function(r,n){1&r&&(e.YNc(0,Q,15,8,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,n.files$))},dependencies:[m.lW,m.RK,d.a8,d.hq,d.dn,d.dk,d.n5,w.d,Z.Hw,T.Ub,T.vS,T.Yt,T.WW,T.sL,f.pW,q.gM,c.sg,c.O5,k,c.Ov,c.uU],styles:["mat-card[_ngcontent-%COMP%]{width:min(70rem,100%);min-height:15rem;margin:2rem auto}mat-card-header[_ngcontent-%COMP%]{display:flex}mat-card-title[_ngcontent-%COMP%]{display:inline-block}mat-card-actions[_ngcontent-%COMP%]{display:inline-block;margin-left:auto;margin-bottom:0}mat-selection-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}mat-list-option[_ngcontent-%COMP%]{width:calc(100% - 5rem)}button[_ngcontent-%COMP%]{margin:auto}"],changeDetection:0}),t})();function P(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){const _=e.CHM(r).$implicit,A=e.oxw();return e.KtG(A.activeLink=_.path)}),e._uU(1),e.qZA()}if(2&t){const r=o.$implicit,n=e.oxw();e.Q6J("active",n.activeLink===r.path)("routerLink",r.routerPath)("routerLinkActive",r.path===n.activeLink?"active":""),e.xp6(1),e.hij(" ",r.label," ")}}let $=(()=>{class t{constructor(){this.links=[p.$.SINGLE_RACE,p.$.MULTI_RACES,p.$.RANGE_RACES,p.$.RAW_DATA,p.$.SCRAP_TABLE],this.activeLink=window.location.pathname}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scraper"]],decls:7,vars:2,consts:[["mat-tab-nav-bar","","color","primary","backgroundColor","primary",3,"tabPanel"],["mat-tab-link","",3,"active","routerLink","routerLinkActive","click",4,"ngFor","ngForOf"],["tabNavPanel",""],["mat-tab-link","",3,"active","routerLink","routerLinkActive","click"]],template:function(r,n){if(1&r&&(e.TgZ(0,"mat-card")(1,"nav",0),e.YNc(2,P,2,4,"a",1),e.qZA(),e._UZ(3,"mat-tab-nav-panel",null,2)(5,"router-outlet"),e.qZA(),e._UZ(6,"app-current-files")),2&r){const s=e.MAs(4);e.xp6(1),e.Q6J("tabPanel",s),e.xp6(1),e.Q6J("ngForOf",n.links)}},dependencies:[d.a8,b.BU,b.sW,b.Nj,c.sg,h.lC,h.rH,h.Od,L],styles:["mat-card[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:70rem}"]}),t})();var U=i(9646),I=i(4144),l=i(9549),C=i(455);function G(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function B(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function W(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function j(t,o){1&t&&e._UZ(0,"mat-progress-bar",7),2&t&&e.Q6J("value",100*o.ngIf)}let X=(()=>{class t{constructor(r,n){this.formBuilder=r,this.scraperService=n,this.fisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]*")]),this.details=new a.NI(!1),this.progress$=(0,U.of)(0),this.raceForm=this.formBuilder.group({fis_id:this.fisId,details:this.details})}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapRace(this.raceForm.value))}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(a.qu),e.Y36(g.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-single-race"]],decls:16,vars:8,consts:[[1,"single-race-form",3,"formGroup"],["appearance","outline"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["mat-raised-button","","color","primary",1,"single-race-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"Scrap single race"),e.qZA(),e.TgZ(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"FIS ID"),e.qZA(),e._UZ(6,"input",2),e.YNc(7,G,5,0,"mat-error",3),e.YNc(8,B,4,0,"mat-error",3),e.YNc(9,W,4,0,"mat-error",3),e.qZA(),e.TgZ(10,"mat-slide-toggle",4),e._uU(11,"Details"),e.qZA(),e.TgZ(12,"button",5),e.NdJ("click",function(){return n.submit()}),e._uU(13," Scrap! "),e.qZA()(),e.YNc(14,j,1,1,"mat-progress-bar",6),e.ALo(15,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(7),e.Q6J("ngIf",n.fisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.fisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",n.fisId.hasError("required")),e.xp6(3),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,6,n.progress$)))},dependencies:[m.lW,I.Nt,l.KE,l.hX,l.TO,f.pW,C.Rr,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,c.Ov],styles:[".single-race-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.single-race-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"]}),t})();function H(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function V(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function K(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function z(t,o){if(1&t&&(e.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"mat-label"),e._uU(3,"FIS ID"),e.qZA(),e._UZ(4,"input",10),e.YNc(5,H,5,0,"mat-error",11),e.YNc(6,V,4,0,"mat-error",11),e.YNc(7,K,4,0,"mat-error",11),e.qZA(),e.TgZ(8,"mat-slide-toggle",12),e._uU(9,"Details"),e.qZA()()),2&t){const r=o.index,n=e.oxw();e.Q6J("formGroupName",r),e.xp6(5),e.Q6J("ngIf",n.fisId[r].hasError("min")),e.xp6(1),e.Q6J("ngIf",n.fisId[r].hasError("pattern")),e.xp6(1),e.Q6J("ngIf",n.fisId[r].hasError("required"))}}function ee(t,o){1&t&&e._UZ(0,"mat-progress-bar",13),2&t&&e.Q6J("value",o.ngIf)}let te=(()=>{class t{constructor(r,n){this.formBuilder=r,this.scraperService=n,this.fisId=[],this.details=new a.NI(!1),this.raceForm=this.formBuilder.group({races:this.formBuilder.array([this.newRace()])})}races(){return this.raceForm.get("races")}newRace(){return this.fisId.push(new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern(/\d*/)])),this.formBuilder.group({fis_id:this.fisId[this.fisId.length-1],details:this.details})}addInput(){this.races().push(this.newRace())}removeInput(){this.fisId.pop(),this.races().removeAt(this.races().length-1)}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapMultipleRaces(this.raceForm.value))}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(a.qu),e.Y36(g.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-multi-races"]],decls:16,vars:6,consts:[[3,"formGroup"],["formArrayName","races",1,"multi-races-form"],["class","multi-races-form-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"multi-races-form-controls"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",1,"multi-races-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],[1,"multi-races-form-group",3,"formGroupName"],["appearance","outline"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"div",1)(2,"h2"),e._uU(3,"Scrap multiple races"),e.qZA(),e.YNc(4,z,10,4,"div",2),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.addInput()}),e.TgZ(7,"mat-icon"),e._uU(8,"exposure_plus_1"),e.qZA()(),e.TgZ(9,"button",5),e.NdJ("click",function(){return n.removeInput()}),e.TgZ(10,"mat-icon"),e._uU(11,"exposure_neg_1"),e.qZA()()(),e.TgZ(12,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(13," Scrap! "),e.qZA()()(),e.YNc(14,ee,1,1,"mat-progress-bar",7),e.ALo(15,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(4),e.Q6J("ngForOf",n.races().controls),e.xp6(8),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,4,n.progress$)))},dependencies:[m.lW,m.RK,Z.Hw,I.Nt,l.KE,l.hX,l.TO,f.pW,C.Rr,c.sg,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,c.Ov],styles:[".multi-races-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:1rem;flex-direction:column}.multi-races-form-controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.multi-races-form-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-direction:column}.multi-races-form-group[_ngcontent-%COMP%] + .multi-races-form-group[_ngcontent-%COMP%]{margin-block:.5rem}.multi-races-form-submit[_ngcontent-%COMP%]{margin-top:3rem}mat-suffix[_ngcontent-%COMP%]{max-height:2rem}"]}),t})();function re(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function ne(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function oe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Initial FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ae(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function ie(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function se(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Final FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ce(t,o){1&t&&e._UZ(0,"mat-progress-bar",8),2&t&&e.Q6J("value",o.ngIf)}let le=(()=>{class t{constructor(r,n){this.formBuilder=r,this.scraperService=n,this.startFisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern(/\d*/)]),this.endFisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern(/\d*/)]),this.details=new a.NI(!1),this.raceForm=this.formBuilder.group({start_fis_id:this.startFisId,end_fis_id:this.endFisId,details:this.details})}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapRangeOfRaces(this.raceForm.value))}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(a.qu),e.Y36(g.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-range-races"]],decls:23,vars:11,consts:[[1,"range-races-form",3,"formGroup"],["appearance","outline"],["matInput","","type","number","formControlName","start_fis_id"],[4,"ngIf"],["matInput","","type","number","formControlName","end_fis_id"],["formControlName","details"],["mat-raised-button","","color","primary",1,"range-races-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"Scrap races in range of IDs"),e.qZA(),e.TgZ(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"Initial FIS ID"),e.qZA(),e._UZ(6,"input",2),e.YNc(7,re,5,0,"mat-error",3),e.YNc(8,ne,4,0,"mat-error",3),e.YNc(9,oe,4,0,"mat-error",3),e.qZA(),e.TgZ(10,"mat-form-field",1)(11,"mat-label"),e._uU(12,"Final FIS ID"),e.qZA(),e._UZ(13,"input",4),e.YNc(14,ae,5,0,"mat-error",3),e.YNc(15,ie,4,0,"mat-error",3),e.YNc(16,se,4,0,"mat-error",3),e.qZA(),e.TgZ(17,"mat-slide-toggle",5),e._uU(18,"Details"),e.qZA(),e.TgZ(19,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(20," Scrap! "),e.qZA()(),e.YNc(21,ce,1,1,"mat-progress-bar",7),e.ALo(22,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(7),e.Q6J("ngIf",n.startFisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.startFisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",n.startFisId.hasError("required")),e.xp6(5),e.Q6J("ngIf",n.endFisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.endFisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",n.endFisId.hasError("required")),e.xp6(3),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(22,9,n.progress$)))},dependencies:[m.lW,I.Nt,l.KE,l.hX,l.TO,f.pW,C.Rr,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,c.Ov],styles:[".range-races-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.range-races-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"],changeDetection:0}),t})();var u=i(7274);let me=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-raw-data-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["src","assets/results.png","alt","Basic results table description"],["src","assets/details.png","alt","Detailed results table description"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(r,n){1&r&&(e.TgZ(0,"h2",0),e._uU(1,"Scrap raw data"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"p"),e._uU(4," This mode should be the most resistant to the errors (describing the columns is the most error prone). The downside is that data in CSV is not described. Generally it's kind of WYSIWYG mode. Data is placed in CSV in order in which it's displayed on FIS website. Please note that it means ie. that there will be no FIS code in CSV for detailed results as it's not displayed anywhere in detailed results table at fis-ski.com. "),e.qZA(),e.TgZ(5,"h3",0),e._uU(6,"Basic results table:"),e.qZA(),e._UZ(7,"img",2),e.TgZ(8,"h3",0),e._uU(9,"Detailed results table:"),e.qZA(),e._UZ(10,"img",3),e.qZA(),e.TgZ(11,"mat-dialog-actions",4)(12,"button",5),e._uU(13,"Close"),e.qZA()())},dependencies:[m.lW,u.ZT,u.uh,u.xY,u.H8],styles:["img[_ngcontent-%COMP%] {\n    width: 100%;\n  }"]}),t})();function pe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA(),e._uU(4," greater than 0 "),e.qZA())}function ue(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"number"),e.qZA()())}function de(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," FIS ID is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ge(t,o){1&t&&e._UZ(0,"mat-progress-bar",8),2&t&&e.Q6J("value",100*o.ngIf)}let fe=(()=>{class t{constructor(r,n,s){this.dialog=r,this.formBuilder=n,this.scraperService=s,this.fisId=new a.NI(0,[a.kI.required,a.kI.min(1),a.kI.pattern("[0-9]*")]),this.details=new a.NI(!1),this.progress$=(0,U.of)(0),this.raceForm=this.formBuilder.group({fis_id:this.fisId,details:this.details})}submit(){this.raceForm.valid&&(this.progress$=this.scraperService.scrapRawData(this.raceForm.value))}openDialog(){this.dialog.open(me)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.uw),e.Y36(a.qu),e.Y36(g.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-unprocessed-data"]],decls:19,vars:8,consts:[[1,"raw-data-form",3,"formGroup"],["mat-icon-button","",3,"click"],["appearance","outline"],["matInput","","type","number","formControlName","fis_id"],[4,"ngIf"],["formControlName","details"],["mat-raised-button","","color","primary",1,"raw-data-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2," Scrap raw data "),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.openDialog()}),e.TgZ(4,"mat-icon"),e._uU(5,"help"),e.qZA()()(),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"FIS ID"),e.qZA(),e._UZ(9,"input",3),e.YNc(10,pe,5,0,"mat-error",4),e.YNc(11,ue,4,0,"mat-error",4),e.YNc(12,de,4,0,"mat-error",4),e.qZA(),e.TgZ(13,"mat-slide-toggle",5),e._uU(14,"Details"),e.qZA(),e.TgZ(15,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(16," Scrap! "),e.qZA()(),e.YNc(17,ge,1,1,"mat-progress-bar",7),e.ALo(18,"async")),2&r&&(e.Q6J("formGroup",n.raceForm),e.xp6(10),e.Q6J("ngIf",n.fisId.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.fisId.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",n.fisId.hasError("required")),e.xp6(3),e.Q6J("disabled",!n.raceForm.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(18,6,n.progress$)))},dependencies:[m.lW,m.RK,Z.Hw,I.Nt,l.KE,l.hX,l.TO,f.pW,C.Rr,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,c.Ov],styles:[".raw-data-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.raw-data-form-submit[_ngcontent-%COMP%]{margin-top:3rem}h2[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})(),_e=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scrap-table-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(r,n){1&r&&(e.TgZ(0,"h2",0),e._uU(1,"Scrap table"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"p"),e._uU(4," Scraps data from all tables at given URL. Please make sure that that data is really displayed in HTML table tags. "),e.qZA(),e.TgZ(5,"p"),e._uU(6," Doesn't work with fis-ski.com;) It looks like a table but it's not a table from HTML point of view. "),e.qZA()(),e.TgZ(7,"mat-dialog-actions",2)(8,"button",3),e._uU(9,"Close"),e.qZA()())},dependencies:[m.lW,u.ZT,u.uh,u.xY,u.H8],encapsulation:2}),t})();function he(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," URL is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Ze(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Enter "),e.TgZ(2,"strong"),e._uU(3,"valid"),e.qZA(),e._uU(4," URL "),e.qZA())}function Te(t,o){1&t&&e._UZ(0,"mat-progress-bar",7),2&t&&e.Q6J("value",100*o.ngIf)}const Ce=[{path:"",redirectTo:p.$.SINGLE_RACE.routerPath,pathMatch:"prefix"},{path:"",component:$,children:[{path:p.$.SINGLE_RACE.routerPath,component:X},{path:p.$.MULTI_RACES.routerPath,component:te},{path:p.$.RANGE_RACES.routerPath,component:le},{path:p.$.RAW_DATA.routerPath,component:fe},{path:p.$.SCRAP_TABLE.routerPath,component:(()=>{class t{constructor(r,n,s){this.dialog=r,this.formBuilder=n,this.scraperService=s,this.fisId=new a.NI("",[a.kI.required]),this.details=new a.NI(!1),this.progress$=(0,U.of)(0),this.form=this.formBuilder.group({url:this.fisId})}submit(){this.form.valid&&(this.progress$=this.scraperService.scrapTable(this.form.value))}openDialog(){this.dialog.open(_e)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.uw),e.Y36(a.qu),e.Y36(g.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scrap-table"]],decls:16,vars:7,consts:[[1,"single-race-form",3,"formGroup"],["mat-icon-button","",3,"click"],["appearance","outline"],["matInput","","type","url","formControlName","url"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"single-race-form-submit",3,"disabled","click"],["color","accent","mode","buffer",3,"value",4,"ngIf"],["color","accent","mode","buffer",3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2," Scrap raw data "),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.openDialog()}),e.TgZ(4,"mat-icon"),e._uU(5,"help"),e.qZA()()(),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"URL"),e.qZA(),e._UZ(9,"input",3),e.YNc(10,he,4,0,"mat-error",4),e.YNc(11,Ze,5,0,"mat-error",4),e.qZA(),e.TgZ(12,"button",5),e.NdJ("click",function(){return n.submit()}),e._uU(13," Scrap! "),e.qZA()(),e.YNc(14,Te,1,1,"mat-progress-bar",6),e.ALo(15,"async")),2&r&&(e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("ngIf",n.fisId.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.fisId.hasError("pattern")),e.xp6(1),e.Q6J("disabled",!n.form.valid),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,5,n.progress$)))},dependencies:[m.lW,m.RK,Z.Hw,I.Nt,l.KE,l.hX,l.TO,f.pW,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,c.Ov],styles:[".single-race-form[_ngcontent-%COMP%]{width:min(40rem,100%);padding:3rem;display:flex;gap:.5rem;flex-direction:column}.single-race-form-submit[_ngcontent-%COMP%]{margin-top:3rem}"]}),t})()}]}];let be=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.Bz.forChild(Ce),h.Bz]}),t})();var ve=i(7386);let Ue=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[y.h,c.ez,a.u5,a.u5,a.UX,be,ve.m]}),t})()}}]);